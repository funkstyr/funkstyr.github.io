---
import PageLayout from "../layouts/BaseLayout.astro";
import Section from "../components/Section.astro";
import ProfileHeader from "../components/ProfileHeader.astro";
import FeaturedSeries from "../components/FeaturedSeries.astro";
import { getAllPosts, sortMDByDate } from "../utils/post";

const allPosts = await getAllPosts();
const sortedPosts = sortMDByDate(allPosts);

const claudeCodeSeries = sortedPosts
  .filter((post) => post.data.subtitle?.includes("Claude Code Series"))
  .sort((a, b) => (a.data.order ?? 0) - (b.data.order ?? 0));
---

<PageLayout meta={{ title: "About Me" }}>
  <div class='flex w-full flex-col gap-y-10'>
    <ProfileHeader />

    <Section title='About Me'>
      <div class='space-y-4'>
        <p class='text-muted-foreground'>
          Hi! I'm Michael, a fullstack developer with a passion for building
          scalable, user-focused applications. I specialize in React and the
          modern JavaScript ecosystem, with experience across the full stack.
        </p>
        <p class='text-muted-foreground'>
          Currently, I work as a Software Engineer at Highlight, where I build
          AI-powered features, architect monorepo solutions, and help teams ship
          code with confidence. I love working in fast-paced environments where
          quality and velocity go hand-in-hand.
        </p>
      </div>
    </Section>

    <Section title='What I Do'>
      <div class='space-y-4'>
        <div>
          <h3 class='font-bold mb-2'>Frontend Development</h3>
          <p class='text-muted-foreground'>
            Building responsive, accessible user interfaces with React, Next.js,
            and TypeScript. I focus on creating delightful user experiences
            backed by solid testing practices.
          </p>
        </div>
        <div>
          <h3 class='font-bold mb-2'>Backend & Infrastructure</h3>
          <p class='text-muted-foreground'>
            Designing APIs and services with .NET Core, Node.js, and modern
            cloud platforms. I enjoy working with Docker, Kubernetes, and AWS to
            build scalable systems.
          </p>
        </div>
        <div>
          <h3 class='font-bold mb-2'>Developer Experience</h3>
          <p class='text-muted-foreground'>
            Improving workflows through monorepo architecture, CI/CD pipelines,
            and tooling. I believe great developer experience leads to better
            products.
          </p>
        </div>
      </div>
    </Section>

    <Section title='Featured Series'>
      <FeaturedSeries
        title='AI-Assisted Development with Claude Code'
        description={`A guide on building a development workflow that's faster and more reliable. Covers plan-based development, TypeScript, Turborepo, testing LLM outputs, and juggling this across packages.`}
        posts={claudeCodeSeries}
      />
    </Section>
  </div>
</PageLayout>
